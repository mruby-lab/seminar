# step3 電子回路

電子回路を作成し、マイコンボードから回路を動かしてみます。


## LEDの動作

LED（Light Emitting Diode）は、電流を流すことで点灯させることができます。

物理の法則から、電流は高い電位から低い電位に向かって流れます。したがって、LEDに電流を流すためには、Vddの電位（電圧）を高くします。図の下側の端子はGND（グランド）と呼び、常に低い電位（電圧）になっています（以下、電位を電圧として説明していきます）。

もっとも簡単なLEDを点灯させる回路は以下のようになりそうですが、この回路は正しくありません。

- 正しくないLEDの回路<br>
![wrong circuit](/images/curcuit_1.drawio.png)<br>

実は、LEDの抵抗値は0と考えます。そのため、オームの法則から、 **上の回路では、電流が流れすぎてしまいます** 。そこで、電流の流れを制限するための抵抗を追加します。

- 正しいLEDの回路<br>
![LED circuit](/images/curcuit_2.drawio.png)

ここでは、この回路を作成して、LEDを点滅させます。

## LEDを含む回路を作成する

今回、電子回路を手軽に作成するため、ブレッドボードを使います。ブレッドボードの表面の穴は、内部で下図のように接続されています。緑色の部分がブレッドボードの内部で接続されています。同様に、赤色の部分もブレッドボードの内部で接続されています。しかし、**緑色と赤色は接続されていない**ので、使用するときは注意してください。

- ブレッドボード<br>
![Connection](/images/breadboard_connection.jpg)

マイコンボードでは、ピンの電圧をプログラムで制御できます。

例えば、以下のような回路を考えます。

![LED circuit](/images/curcuit_3.drawio.png)

この回路のLEDを点灯させるためには、P15 の電圧を高くします。GNDは常に低い電圧（0V）になっています。

そこで、LEDと抵抗をブレッドボードの穴を使って接続し、下のような回路を作成します。作成した回路から、P15とGNDへジャンパーワイヤーを使って接続します。P15は、マイコンボードでは「D15」と印刷されています（デジタル15の意味）。

![completed circuit](/images/completed_circuit.jpg)

### LED接続の注意事項

LEDは電流を一方向にのみ流すという機能があるので、LEDのピンには向きがあります。

LEDのピンの長さと電流の流れる向きは、図のようになっています。回路を流れる電流の向きを考え、ブレッドボードでの回路作成を行ってください。

![LED connection](/images/led_direction.png)

![current in the cuicuit](/images/current_direction.png)



## LED点滅のプログラム

このプログラムを動かすには、P15などのピンを使います。このようなピンは、GPIOピンと呼ばれます（GPIO=General Purpose Input Output）。

次のようなプログラムを作成します。赤枠で示した部分の値を設定しておきます。

![GPIOプログラム](/images/gpio_program_ja.png)

このプログラムにより、作成したLEDの回路を動かすことができます。

# 練習

- GPIOピンを使って、2つのLEDを交互に点滅させてみてください。


[**Back to top**](./README.md)
